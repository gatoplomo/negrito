    <!DOCTYPE html>
   
    <html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="https://getbootstrap.com/docs/4.0/assets/img/favicons/favicon.ico">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="js/jquery-1.11.1.min.js"></script>


   <script src="js/bootstrap.js"></script>

</script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
        <script src="assets/demo/chart-area-demo.js"></script>
        <script src="assets/demo/chart-bar-demo.js"></script>





        <title>Electrónica Educativa</title>

        <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/starter-template/">

    
        <link href="./Starter Template for Bootstrap_files/bootstrap.min.css" rel="stylesheet">

    
        <link href="./Starter Template for Bootstrap_files/starter-template.css" rel="stylesheet">
      </head>

  

        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">



          <li class="nav-item">
            <a class="nav-link" href=""></a>
          </li>


        
    <li class="nav-item active">
            <a class="nav-link" href="/cover.html">Inicio<span class="sr-only">(current)</span></a>
          </li>

           <li class="nav-item active">
            <a class="nav-link" href="/blog.html">Contenidos<span class="sr-only">(current)</span></a>
          </li>
          

      </li>

       <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Configuración
        </a>
     
      

        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="Registro_Centrales.html">Agregar Central</a>
           <a class="dropdown-item"  id="test" href="#">Prueba</a>
          <a class="dropdown-item"  id="test2" href="#">reiniciar</a>
          <a class="dropdown-item"  id="test2" href="#">Conf IP</a>
          <a class="dropdown-item"  id="test2" href="#">Conf Dir</a>
          <div class="dropdown-divider"></div>
       
        </div>
    
        </ul>
      
      </div>
    </nav>

   

      <div class="starter-template">
    <br></br>
      </div>

    </main>

    <script src="./Starter Template for Bootstrap_files/jquery-3.2.1.slim.min.js.descarga" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>

<script src=" https://cdnjs.com/libraries/Chart.js"></script>




<body id="cuerpo">

</head>
<body>
<br>
<br>
  


<script type="text/javascript">
    

var c = document.getElementById("myChart");
var ctx = c.getContext("2d");
ctx.fillStyle = "red";
ctx.fillRect(20, 20, 75, 50);

//Turn transparency on
ctx.globalAlpha = 0.2;
ctx.fillStyle = "blue"; 
ctx.fillRect(50, 50, 75, 50); 
ctx.fillStyle = "green"; 
ctx.fillRect(80, 80, 75, 50);

</script>



    <div class="row">
        <div class="col-lg-6" >

             <div id="monitor" class="container">
        </div>
     

           

        
         
        </div>
       



        <div class="col-lg-6">
            <div id="monitor2" class="container">
        </div>
         <div id="monitor3" class="container">
           
<div class="btn-group" role="group" aria-label="Basic example">
   <!--
  <select id="ajustar">
        <option value="20">Segundos</option>
        <option value="30">Minutos</option>
        <option value="40">Horas</option>
      </select>
 

    <button  type="button" class="button2" onclick="ajustar(myChart)">Ajustar</button>
-->


  <button type="button" class="button2" onclick="limpiar(myChart)">Limpiar</button>
 <button class="button" onclick="abrir()";>Generar</button>

 <button  type="button" class="button2" onclick="apagar()">Encender</button>
    
</div>
        </div>

        <div id="detalles" class="container">
        </div>
    </div>
    
</div>

<table id="table"></table>


      


<script type="text/javascript">

var flag=0;

 function apagar()
 {

if(flag==0)
flag=1;

 }
</script>















<style>


.container {
   
width: 100%;
border: 1px solid #73AD21;
text-align: center;
margin-top: 5px;
}


<style>
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 5px;
  text-align: left;
}
</style>

<style>



body, html {
 
}


table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 5px;
  text-align: left;
}



</style>



<script type="text/javascript">


    
    $( document ).ready(function() {
      

$('#table').bootstrapTable({ 


  onClickRow:function (row,$element) {


   
var detalles = document.createElement("form");

detalles.setAttribute("action","/single")



detalles.setAttribute("method","POST")
detalles.setAttribute("id" , "myForm")

var put = document.createElement("input");
put.setAttribute("type","hidden")
put.setAttribute("id","hiddenField")
put.setAttribute("name","id")
put.setAttribute("value",row.dir.toString());

detalles.appendChild(put)
var baton = document.createElement("button");
baton.setAttribute("type","submit")

var textoCelda4 = document.createTextNode("Descargar Archivo");



baton.appendChild(textoCelda4)

detalles.appendChild(baton)




    var ubi=document.getElementById("ventana")
    while (ubi.firstChild) {
  ubi.removeChild(ubi.firstChild);
}

    ubi.appendChild(detalles)

//console.log(canales);

 alert("Descargando información del usuario")


      modal.style.display = "block";
                    $('.info').removeClass('info');
                    $($element).addClass('info');
                }, 

  pagination: true,
  search: true,
  columns: [{
    field: 'id',
    title: 'id'
  }, {
    field: 'date',
    title: 'Fecha Actualización  '
  }, {
    field: 'dir',
    title: 'Directorio'
  }],data: directorios.reverse()
  
})


 
});
</script>


<link rel="stylesheet" href="./simplepicker_ Material Inspired Date &amp; Time Picker Example_files/simplepicker.css">
</head>
<link href="css/bootstrap.css" type="text/css" rel="stylesheet" media="all">
<script src="js/jquery-1.11.1.min.js"></script> 
<script src="js/gauge.min.js">  </script> 
<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
<script type="text/javascript">


$( document ).ready(function() {
  $.ajax({
    url:'/nodos',
    method:'POST',
    datatype:"JSON",
    contentType: "application/json",
    beforeSend: function(data){
      console.log('Enviando...',data)
    },
  }).done(function(respuesta){
    const numero = respuesta.length;
    let nombres = respuesta;
    const canales=[];
    console.log('Respuesta recibida:',respuesta)
    console.log(respuesta)
    console.log(respuesta.length)
for ( var item = 0; item < numero ; item++) {

copia(respuesta[item]);

            var canv = document.createElement("canvas");
            
            var division= document.createElement("div");
            division.setAttribute("class","align-center")
            division.setAttribute("style" , "display:inline-block") 
           
            var salto= document.createElement("br")
            var porte= document.createElement("h1")
            var newContent3 = document.createTextNode(respuesta[item].id);
            porte.appendChild(newContent3)
    
            document.getElementById("monitor").appendChild(division);
            canv.setAttribute('width', 400);
            canv.setAttribute('height', 400);


            canv.setAttribute('id', item);
        

            canales.push(nombres[item].id)
           
  
  var body = document.getElementsByTagName("body")[0];


  var tabla   = document.createElement("table");
  var tblBody = document.createElement("tbody");

  for (var i = 0; i < 4; i++) {
 
    var hilera = document.createElement("tr");

    for (var j = 0; j < 1; j++) {
   
      var celda = document.createElement("td");
      hilera.appendChild(celda);

     if(i==0)
     {

     var textoCelda = document.createTextNode(respuesta[item].id);
     celda.appendChild(textoCelda);
     
     }

if(i==1)
     {

     var textoCelda = document.createTextNode("");
     celda.appendChild(textoCelda);
      celda.appendChild(canv)
      celda.appendChild(textoCelda);

     }

if(i==2)
     {

        var textoCelda2 = document.createTextNode(respuesta[item].info);
     celda.appendChild(textoCelda2);
     }

if(i==3)
     {

 var ul = document.createElement("ul");
 var li = document.createElement("li");
 var a1 = document.createElement("a");
 a1.setAttribute("id",item);
 a1.setAttribute("href","#");
  a1.setAttribute("onClick","abrir2(this.id)");
 var texto22 = document.createTextNode("Ver");
a1.appendChild(texto22);
 li.appendChild(a1)
 var li2 = document.createElement("li");
 li2.setAttribute("href","centrales.html");
 var texto33 = document.createTextNode("Archivos");
 li2.setAttribute("id",respuesta[item].id);
 li2.setAttribute("onclick","getPaging(this.id)")
 li2.appendChild(texto33)
 var a2 = document.createElement("a");
 a2.setAttribute("id",item);
 a2.setAttribute("href","centrales.html");
 a2.appendChild(texto33);
 li2.appendChild(a2)
var ul3 = document.createElement("ul");
 var li3 = document.createElement("li");
 var a13 = document.createElement("a");
 a13.setAttribute("id",item);
 a13.setAttribute("href","#");
  a13.setAttribute("onClick","abrir4(this.id)");
 var texto223 = document.createTextNode("Acciones");
a13.appendChild(texto223);
 li3.appendChild(a13)
 ul.appendChild(li)
  //ul.appendChild(li2)
  ul.appendChild(li3)
 celda.appendChild(ul)
     }

if(i==6)
     {
celda.appendChild(label2)
    
     }
     if(i==7)
     {
    var pe=document.createElement("div");
     pe.setAttribute("id","demo2"+respuesta[item].id);
     pe.setAttribute("float","rigth");
     celda.appendChild(pe);
     }
     if(i==8)
     {
var detalles = document.createElement("button");
   detalles.setAttribute("class","button button1")
   detalles.setAttribute("id",item)
   detalles.setAttribute("onclick","abrir1(this.id)")
   var textoCelda3 = document.createTextNode("Detalles");
detalles.appendChild(textoCelda3)
   celda.appendChild(detalles) 
   var detalles = document.createElement("button");
   detalles.setAttribute("class","button button1")
   detalles.setAttribute("id",item)
   detalles.setAttribute("onclick","abrir2(this.id)")
   var textoCelda3 = document.createTextNode("Lecturas");
detalles.appendChild(textoCelda3)
   celda.appendChild(detalles)
   var detalles = document.createElement("button");
   detalles.setAttribute("class","button button1")
   detalles.setAttribute("id",item)
   detalles.setAttribute("onclick","abrir1(this.id)")


   var textoCelda3 = document.createTextNode("Imagen");
detalles.appendChild(textoCelda3)



   celda.appendChild(detalles)



   var detalles = document.createElement("button");
   detalles.setAttribute("class","button button1")
   detalles.setAttribute("id",item)
   detalles.setAttribute("onclick","abrir1(this.id)")


   var textoCelda3 = document.createTextNode("Historial");
detalles.appendChild(textoCelda3)



   celda.appendChild(detalles)





     }


    }

    tblBody.appendChild(hilera);
  }




  tabla.appendChild(tblBody);
 
  body.appendChild(tabla);

  tabla.setAttribute("border", "2");



 


 
    division.appendChild(tabla)


        }



   comu(canales,numero);

(function($) {
    $.fn.selected = function(fn) {
        return this.each(function() {
            var clicknum = 0;
            $(this).click(function() {
                clicknum++;
                if (clicknum == 1) {
                    clicknum = 0;
                    fn(this);
                }
            });
        });
    }
})(jQuery);


$('#test').selected(function() {
    console.log("prueba")
    comu2(canales,numero);
});



$('#test2').selected(function() {
    console.log("prueba")
    comu3(canales,numero);
});

}).fail(function(err){
    console.log(err)
    

  }

    )











 alert("Bienvenido a la sala de monitoreo")


});


</script>



<script src="/mqtt.js"></script>




</body>

</html>










<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">

<script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
       




<script>

         
function insertar(readableDate) {

var table = document.getElementById("table");

var row = table.insertRow();

var cell2 = row.insertCell();
var cell3 = row.insertCell();


var selector2=document.createElement("select");
selector2.setAttribute("id",readableDate);
selector2.setAttribute("name","cars2");

var opt1=document.createElement("option");
opt1.setAttribute("value","ON");
var A1 = document.createTextNode("ON");
opt1.appendChild(A1);

var opt2=document.createElement("option");
opt2.setAttribute("value","OFF")
var B2 = document.createTextNode("OFF");
opt2.appendChild(B2);

var opt3=document.createElement("option");
opt3.setAttribute("value","Borrar")
var C3 = document.createTextNode("borrar");
opt3.appendChild(C3);


selector2.appendChild(opt1);
selector2.appendChild(opt2);
selector2.appendChild(opt3);


cell2.innerHTML = readableDate.toString();
cell3.appendChild(selector2);
fechas.push(readableDate.toString());

}

</script>


<script>

function abrir()
{

$( document ).ready(function() {

  $.ajax({
    url:'/generar',
    method:'POST',
    data: {'central':localStorage.getItem("nodo")},
    beforeSend: function(data){
      console.log('Enviando...',data)
    },


  }).done(function(respuesta){

    const numero = respuesta.length;
    let nombres = respuesta;
    const canales=[];

    console.log('Respuesta recibida:',respuesta)
    console.log(respuesta)
    console.log(respuesta.length)
 
   //console.log(numero);

   
}).fail(function(err){
    console.log(err)
    

  }

    )


 alert("Descargando información del usuario")


});
location.reload();
}

 
</script>




<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>
      <h2></h2>
    </div>
    <div class="modal-body" id="ventana">
     

<div class="event-log">Event logs:<br>Picker Closed
</div>

    </div>

    <div class="modal-footer">
      <h3></h3>
      <br>
    </div>
  </div>


</html>

<script>

var modal = document.getElementById("myModal");

var respuesta2 = [];

function copia(respuesta)
{

respuesta2.push(respuesta)
console.log(respuesta2);

}


var select = document.getElementById('ventana');
var texto= document.createElement("h1");

var texto3= document.createTextNode("alsjdlkjsd");

texto.appendChild(texto3);

select.appendChild(texto);

</script>




















<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  max-width: 2000;
   max-height: 2000;
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content {
  position: relative;
  background-color: #fefefe;
  margin: auto;
  padding: 0;
  border: 1px solid #888;
  width: fit-content;
  height:  fit-content;
 max-width: 2000;
   max-height: 2000;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
  -webkit-animation-name: animatetop;
  -webkit-animation-duration: 0.4s;
  animation-name: animatetop;
  animation-duration: 0.4s
}

/* Add Animation */
@-webkit-keyframes animatetop {
  from {top:-300px; opacity:0} 
  to {top:0; opacity:1}
}

@keyframes animatetop {
  from {top:-300px; opacity:0}
  to {top:0; opacity:1}
}

/* The Close Button */
.close {
  color: white;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.modal-header {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}

.modal-body {padding: 2px 16px;
}

.modal-footer {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}
</style>



<style>
body {font-family: Arial, Helvetica, sans-serif;}

/* The Modal (background) */
.modal2 {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
}

/* Modal Content */
.modal-content2 {
  position: relative;
  background-color: #fefefe;
  margin: auto;
  padding: 0;
  border: 1px solid #888;
  width: 50%;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
  -webkit-animation-name: animatetop;
  -webkit-animation-duration: 0.4s;
  animation-name: animatetop;
  animation-duration: 0.4s
}

/* Add Animation */
@-webkit-keyframes animatetop {
  from {top:-300px; opacity:0} 
  to {top:0; opacity:1}
}

@keyframes animatetop {
  from {top:-300px; opacity:0}
  to {top:0; opacity:1}
}

/* The Close Button */
.close {
  color: white;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
}

.modal-header2 {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}

.modal-body {padding: 2px 16px;}

.modal-footer2 {
  padding: 2px 16px;
  background-color: #5cb85c;
  color: white;
}
</style>





<style>


.Div {
  border: 5px outset black;
  background-color: whitesmoke;
}

.* {
  box-sizing: border-box;
}

/* Float four columns side by side */
.column {
  float: left;
  width: 25%;
  padding: 0 5px;
}

.row {margin: 0 -5px;}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive columns */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    display: block;
    margin-bottom: 10px;
  }
}

/* Style the counter cards */
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  padding: 16px;
  text-align: center;
  background-color: #444;
  color: white;
}

.fa {font-size:50px;}

</style>


<style>
#sliderLabel {
    border: 1px solid #a2a2a2;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    cursor: pointer;
    display: block;
    height: 30px;
    overflow: hidden;
    position: relative;
    width: 100px;
    display: inline-block;
}

#sliderLabel input {
    display: none;
}

#sliderLabel input:checked + #slider {
    left: 0px;
}

#slider {
    left: -50px;
    position: absolute;
    top: 0px;
    -webkit-transition: left .25s ease-out;
    -moz-transition: left .25s ease-out;
    -o-transition: left .25s ease-out;
    -ms-transition: left .25s ease-out;
    transition: left .25s ease-out;
}

#sliderOn,
#sliderBlock,
#sliderOff {
    display: block;
    font-family: arial, verdana, sans-serif;
    font-weight: bold;
    height: 30px;
    line-height: 30px;
    position: absolute;
    text-align: center;
    top: 0px;
}

#sliderOn {
    background: #3269aa;
    background: -webkit-linear-gradient(top, #3269aa 0%, #82b3f4 100%);
    background: -moz-linear-gradient(top, #3269aa 0%, #82b3f4 100%);
    background: -o-linear-gradient(top, #3269aa 0%, #82b3f4 100%);
    background: -ms-linear-gradient(top, #3269aa 0%, #82b3f4 100%);
    background: linear-gradient(top, #3269aa 0%, #82b3f4 100%);
    color: white;
    left: 0px;
    width: 54px;
}

#sliderBlock {
    background: #d9d9d8;
    background: -webkit-linear-gradient(top, #d9d9d8 0%, #fcfcfc 100%);
    background: -moz-linear-gradient(top, #d9d9d8 0%, #fcfcfc 100%);
    background: -o-linear-gradient(top, #d9d9d8 0%, #fcfcfc 100%);
    background: -ms-linear-gradient(top, #d9d9d8 0%, #fcfcfc 100%);
    background: linear-gradient(top, #d9d9d8 0%, #fcfcfc 100%);
    border: 1px solid #a2a2a2;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    height: 28px;
    left: 50px;
    width: 50px;
}

#sliderOff {
    background: #f2f3f2;
    background: -webkit-linear-gradient(top, #8b8c8b 0%, #f2f3f2 50%);
    background: -moz-linear-gradient(top, #8b8c8b 0%, #f2f3f2 50%);
    background: -o-linear-gradient(top, #8b8c8b 0%, #f2f3f2 50%);
    background: -ms-linear-gradient(top, #8b8c8b 0%, #f2f3f2 50%);
    background: linear-gradient(top, #8b8c8b 0%, #f2f3f2 50%);
    color: #8b8b8b;
    left: 96px;
    width: 54px;
}
</style>



<style>
table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  border: 1px solid #ddd;
}

th, td {
  text-align: left;
  padding: 8px;
}

tr:nth-child(even){background-color: #f2f2f2}
</style>

<style>


.Div {
  border: 5px outset black;
  background-color: whitesmoke;
}

.* {
  box-sizing: border-box;
}

/* Float four columns side by side */
.column {
  float: center;
  width: 25%;
  padding: 0 5px;
}

.row {margin: 0 -5px;}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive columns */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    display: block;
    margin-bottom: 10px;
  }
}

/* Style the counter cards */
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
  padding: 16px;
  text-align: center;
  background-color: #444;
  color: white;
}

.fa {font-size:50px;}

</style>


<style>
.button2 {
 border:1px solid gray;
  border-radius:7%;
  font-size:0.875;
  word-wrap: break-word;
  width: 100px; // only for IE8
  max-width: 100%;


}

.formButtonfront {
 
 }

.button1 {background-color: #4CAF50;} /* Green */

</style>


